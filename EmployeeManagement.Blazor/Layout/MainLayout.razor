@inherits LayoutComponentBase
<!-- Bọc toàn bộ nội dung với CascadingValue truyền hàm cập nhật tiêu đề -->
<CascadingValue Value="SetTitle">
    <div class="page">
        <div class="sidebar">
            <NavMenu />
        </div>

        <main>
            <div class="top-row px-4">
                <!-- Phần bên trái hiển thị tiêu đề do trang cung cấp -->
                <div class="top-row-left">
                    <h2>@currentPageTitle</h2>
                </div>
                <!-- Phần bên phải giữ nguyên link About -->
                <div class="top-row-right">
                    <span class="bi-alert-fill-nav-menu" aria-hidden="true" />
                    <a href="https://learn.microsoft.com/aspnet/core/" target="_blank">About</a>
                </div>
            </div>

            <article class="content px-4">
                @Body
            </article>
        </main>
    </div>  
</CascadingValue>

<!-- Đoạn mã này sẽ được sử dụng để cập nhật tiêu đề trang -->
@code {
    // You can set this value dynamically as needed
    public string currentPageTitle = "Home";

    // Hàm này được truyền xuống các component con thông qua CascadingValue
    public void SetTitle(string title)
    {
        currentPageTitle = title;
        StateHasChanged();
    }
}
